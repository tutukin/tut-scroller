{"version":3,"sources":["../../src/js/tutScroller.js","../../src/js/tutScrollerDirective.js","../../src/js/tutScrollerController.js"],"names":[],"mappings":"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","file":"tut-scroller.js","sourcesContent":["angular.module('tutScroller', []);\n","angular.module('tutScroller').directive('tutScroller',\n['$compile', '$templateCache',\nfunction ($compile, $templateCache) {\n    var defaultTemplateHtml = '<div class=\"item\">{{item}}</div>';\n    var templateId;\n    var itemTemplate;\n\n    function compile (tElement, tAttrs) {\n        templateId = tAttrs.tutScrollerTemplate || null;\n        return link;\n    }\n\n    function link (scope, iElement, iAttrs, controller, transcludeFn) {\n        var wrapper = iElement.find('.items');\n        var window = iElement.find('.window');\n\n        iElement.addClass('tut-scroller');\n        iElement.css('position', 'relative');\n\n        // FIXME: jQuery dep: .width()\n        // default - to make unit tests work\n        scope.windowWidth = window.width() || 400;\n        scope.contentWidth = 0;\n        scope.currentShift = 0;\n\n        scope.$watch('items', function (a, b) {\n            _linkItems(scope, wrapper);\n        });\n\n        wrapper.on('mousedown', function (ev) {\n            if ( ev.which !== 1 ) {\n                return;\n            }\n\n            scope.origin = scope.reference = ev.pageX;\n            scope.maxShift = 0;\n\n            return _stopEvent(ev);\n        });\n\n        wrapper.on('mouseup', function (ev) {\n            return _release(iElement, scope, ev);\n        });\n\n        wrapper.on('mouseleave', function (ev) {\n            return _release(iElement, scope, ev);\n        });\n\n        wrapper.on('mousemove', function (ev) {\n            var s;\n\n            if ( scope.reference === null ) {\n                return;\n            }\n\n            _shift(iElement, scope, ev.pageX - scope.reference);\n            scope.reference = ev.pageX;\n\n            s = Math.abs(scope.reference - scope.origin);\n            scope.maxShift = s > scope.maxShift ?\n                s : scope.maxShift;\n\n            return _stopEvent(ev);\n        });\n\n        iElement.find('a.move-left').on('click', function (ev) {\n            _shift(iElement, scope, -scope.itemWidth);\n        });\n\n        iElement.find('a.move-right').on('click', function (ev) {\n            _shift(iElement, scope, scope.itemWidth);\n        });\n    }\n\n\n    function _linkItems (scope, wrapper) {\n        var collection = scope.items || [];\n\n        angular.forEach(collection, function (item, i) {\n            var el = _getItemTemplate(scope, item, i);\n            el.addClass('item');\n            scope.pos[i] = scope.contentWidth;\n            if ( scope.pos[i] >= scope.windowWidth ) {\n                _hide(el);\n            }\n            else {\n                _showAt(el, scope.getX(i));\n            }\n            // FIXME: .width() comes from jQuery. Use .css()\n            // FIXME: note, jqLite.css supports INLINE styles only!!!\n            scope.contentWidth += el.width();\n            wrapper.append(el);\n        });\n\n        scope.itemWidth = Math.floor(scope.contentWidth / collection.length);\n    }\n\n\n    function _stopEvent (ev) {\n        ev.stopPropagation();\n        ev.preventDefault();\n        return false;\n    }\n\n    function _release(iElement, scope, ev) {\n        if ( scope.reference === null ) {\n            return;\n        }\n        if ( scope.maxShift < Math.floor(0.05 * scope.itemWidth) ) {\n            _shift(iElement, scope, scope.origin - scope.reference );\n            if ( ev.type === 'mouseup' ) {\n                scope.selectItem({\n                    item : _getItemByElement(scope, ev.target)\n                });\n            }\n        }\n        scope.reference = null;\n        return _stopEvent(ev);\n    }\n\n    function _getItemByElement (scope, el) {\n        var s = angular.element(el).scope();\n        return s.item;\n    }\n\n\n\n\n    function _getItemTemplate (scope, item, index) {\n        var html = typeof templateId === 'string' ?\n            $templateCache.get(templateId) : defaultTemplateHtml;\n\n        var itemScope = scope.$new(true);\n        itemScope.item = item;\n        itemScope.index = index;\n\n        var el = $compile(html)(itemScope);\n\n        return el;\n    }\n\n\n    function _hide (el) {\n        if ( ! el.hasClass('hidden') ) {\n            el.addClass('hidden');\n        }\n    }\n\n    function _showAt (el, left) {\n        el.removeClass('hidden');\n        el.css('left', '' + left + 'px');\n    }\n\n    function _shift (iElement, scope, s) {\n        iElement.find('.item').each( function (i) {\n            var el = $(this);\n            var left = scope.pos[i] = scope.translate(scope.pos[i] + s);\n            if ( left >= scope.windowWidth ) {\n                _hide(el);\n            }\n            else {\n                _showAt(el, left);\n            }\n        });\n    }\n\n\n\n    return {\n        restrict:   'A',\n        compile:    compile,\n        scope:      {\n            items:      '=tutScroller',\n            selectItem: '&tutScrollerSelect'\n        },\n        controller: 'tutScrollerController',\n        template:\n            '<div class=\"window\">' +\n                '<div class=\"items\"></div>' +\n            '</div>' +\n            '<a href=\"#\" class=\"move-right\"></a>' +\n            '<a href=\"#\" class=\"move-left\"></a>'\n    };\n}]);\n","angular.module('tutScroller').controller('tutScrollerController',[\n    '$scope',\n    function ($scope) {\n        $scope.shift    = 0;\n        $scope.pos      = [];\n        $scope.reference= null;\n\n        $scope.getX     = function getX (n) {\n            return $scope.pos[n] + $scope.shift;\n        };\n\n        $scope.translate= function move (s) {\n            var left = ($scope.shift + s) % $scope.contentWidth;\n            var right = left + $scope.itemWidth;\n\n            if ( left <= -$scope.itemWidth ) {\n                left += $scope.contentWidth;\n            }\n\n            if ( left < $scope.contentWidth && right > $scope.contentWidth ) {\n                left -= $scope.contentWidth;\n            }\n\n            return left;\n        };\n    }\n])\n"]}