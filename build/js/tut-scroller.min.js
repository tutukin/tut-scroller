angular.module("tutScroller",[]),angular.module("tutScroller").directive("tutScroller",["$compile","$templateCache",function(a,b){function c(a,b){return m=b.tutScrollerTemplate||null,d}function d(a,b){var c=b.find(".items"),d=b.find(".window");b.addClass("tut-scroller"),b.css("position","relative"),a.windowWidth=d.width()||400,a.contentWidth=0,a.currentShift=0,a.$watch("items",function(){e(a,c)}),c.on("mousedown",function(b){return 1===b.which?(a.origin=a.reference=b.pageX,a.maxShift=0,f(b)):void 0}),c.on("mouseup",function(c){return g(b,a,c)}),c.on("mouseleave",function(c){return g(b,a,c)}),c.on("mousemove",function(c){var d;if(null!==a.reference)return l(b,a,c.pageX-a.reference),a.reference=c.pageX,d=Math.abs(a.reference-a.origin),a.maxShift=d>a.maxShift?d:a.maxShift,f(c)}),b.find("a.move-left").on("click",function(){l(b,a,-a.itemWidth)}),b.find("a.move-right").on("click",function(){l(b,a,a.itemWidth)})}function e(a,b){var c=a.items||[];angular.forEach(c,function(c,d){var e=i(a,c,d);e.addClass("item"),a.pos[d]=a.contentWidth,a.pos[d]>=a.windowWidth?j(e):k(e,a.getX(d)),a.contentWidth+=e.width(),b.append(e)}),a.itemWidth=Math.floor(a.contentWidth/c.length)}function f(a){return a.stopPropagation(),a.preventDefault(),!1}function g(a,b,c){return null!==b.reference?(b.maxShift<Math.floor(.05*b.itemWidth)&&(l(a,b,b.origin-b.reference),"mouseup"===c.type&&b.selectItem({item:h(b,c.target)})),b.reference=null,f(c)):void 0}function h(a,b){var c=angular.element(b).scope();return c.item}function i(c,d,e){var f="string"==typeof m?b.get(m):n,g=c.$new(!0);g.item=d,g.index=e;var h=a(f)(g);return h}function j(a){a.hasClass("hidden")||a.addClass("hidden")}function k(a,b){a.removeClass("hidden"),a.css("left",""+b+"px")}function l(a,b,c){a.find(".item").each(function(a){var d=$(this),e=b.pos[a]=b.translate(b.pos[a]+c);e>=b.windowWidth?j(d):k(d,e)})}var m,n='<div class="item">{{item}}</div>';return{restrict:"A",compile:c,scope:{items:"=tutScroller",selectItem:"&tutScrollerSelect"},controller:"tutScrollerController",template:'<div class="window"><div class="items"></div></div><a href="#" class="move-right"></a><a href="#" class="move-left"></a>'}}]),angular.module("tutScroller").controller("tutScrollerController",["$scope",function(a){a.shift=0,a.pos=[],a.reference=null,a.getX=function(b){return a.pos[b]+a.shift},a.translate=function(b){var c=(a.shift+b)%a.contentWidth,d=c+a.itemWidth;return c<=-a.itemWidth&&(c+=a.contentWidth),c<a.contentWidth&&d>a.contentWidth&&(c-=a.contentWidth),c}}]);
//# sourceMappingURL=tut-scroller.min.js.map