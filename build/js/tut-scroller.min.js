angular.module("tutScroller",[]),angular.module("tutScroller").directive("tutScroller",["$compile","$templateCache",function(a,b){function c(a,b){return l=b.tutScrollerTemplate||null,d}function d(a,b,c){var d=b.find(".items"),g=a[c.tutScroller]||[];b.addClass("tut-scroller"),b.css("position","relative"),a.windowWidth=400,a.contentWidth=0,a.currentShift=0,angular.forEach(g,function(b,c){var e=h(a,b,c);a.pos[c]=a.contentWidth,a.pos[c]>=a.windowWidth?i(e):j(e,a.getX(c)),a.contentWidth+=e.width(),d.append(e)}),a.itemWidth=Math.floor(a.contentWidth/g.length),d.on("mousedown",function(b){return 1===b.which?(a.origin=a.reference=b.pageX,a.maxShift=0,e(b)):void 0}),d.on("mouseup",function(c){return f(b,a,c)}),d.on("mouseleave",function(c){return f(b,a,c)}),d.on("mousemove",function(c){var d;if(null!==a.reference)return k(b,a,c.pageX-a.reference),a.reference=c.pageX,d=Math.abs(a.reference-a.origin),a.maxShift=d>a.maxShift?d:a.maxShift,e(c)}),b.find("a.move-left").on("click",function(){k(b,a,-a.itemWidth)}),b.find("a.move-right").on("click",function(){k(b,a,a.itemWidth)})}function e(a){return a.stopPropagation(),a.preventDefault(),!1}function f(a,b,c){return null!==b.reference?(b.maxShift<Math.floor(.05*b.itemWidth)&&(k(a,b,b.origin-b.reference),"mouseup"===c.type&&b.selectItem({item:g(b,c.target)})),b.reference=null,e(c)):void 0}function g(a,b){var c=angular.element(b).scope();return c.item}function h(c,d,e){var f="string"==typeof l?b.get(l):m,g=c.$new(!0);g.item=d,g.index=e;var h=a(f)(g);return h}function i(a){a.hasClass("hidden")||a.addClass("hidden")}function j(a,b){a.removeClass("hidden"),a.css("left",""+b+"px")}function k(a,b,c){a.find(".item").each(function(a){var d=$(this),e=b.pos[a]=b.translate(b.pos[a]+c);e>=b.windowWidth?i(d):j(d,e)})}var l,m='<div class="item">{{item}}</div>';return{restrict:"A",compile:c,scope:{items:"=tutScroller",selectItem:"&tutScrollerSelect"},controller:"tutScrollerController",template:'<div class="window"><div class="items"></div></div><a href="#" class="move-right"></a><a href="#" class="move-left"></a>'}}]),angular.module("tutScroller").controller("tutScrollerController",["$scope",function(a){a.shift=0,a.pos=[],a.reference=null,a.getX=function(b){return a.pos[b]+a.shift},a.translate=function(b){var c=(a.shift+b)%a.contentWidth;return c<=-a.itemWidth&&(c+=a.contentWidth),c}}]);
//# sourceMappingURL=tut-scroller.min.js.map